model User {
  id                 String             @id @default(uuid())
  email              String             @unique
  password           String
  name               String
  role               UserRole           @default(USER)
  needPasswordChange Boolean            @default(false)
  status             UserStatus         @default(ACTIVE)
  gender             Gender?
  profilePicture     String?
  bio                String?
  dateOfBirth        DateTime?
  address            String?
  phoneNumber        String?
  hobbies            String[]           @default([])
  interests          String[]           @default([])
  IsVerified         Boolean            @default(true)
  createdAt          DateTime           @default(now())
  updatedAt          DateTime           @updatedAt
  admin              Admin?
  events             Event[]
  eventParticipants  EventParticipant[]
  payments           Payment[]
  reviews            Review[]
  host               Host?
}

model Host {
  id                     String                @id @default(uuid())
  userId                 String                @unique
  email                  String                @unique
  profilePhoto           String?
  name                   String
  contactNumber          String?
  bio                    String?
  experience             String?
  specialties            String?
  rating                 Float?                @default(0)
  reviewCount            Int?                  @default(0)
  websiteUrl             String?
  facebookUrl            String?
  instagramUrl           String?
  linkedinUrl            String?
  city                   String?
  country                String?
  address                String?
  isVerified             Boolean               @default(false)
  identityDocument       String?
  verificationStatus     VerificationStatus    @default(PENDING)
  rejectionReason        String?
  preferredCommunication HostContactPreference @default(EMAIL)
  payoutMethod           String?
  payoutAccount          String?
  maxEventLimit          Int?                  @default(10)
  totalEventsHosted      Int?                  @default(0)
  totalParticipants      Int?                  @default(0)
  totalEarnings          Float?                @default(0)
  lastActiveAt           DateTime?
  isDeleted              Boolean               @default(false)
  status                 UserStatus            @default(ACTIVE)
  createdAt              DateTime              @default(now())
  updatedAt              DateTime              @updatedAt
  user                   User                  @relation(fields: [userId], references: [id])
  payments               Payment[]
  reviews                Review[]
  events                 Event[]
}

model Admin {
  id           String  @id @default(uuid())
  email        String  @unique
  name         String
  profilePhoto String?

  // Contact Info
  phoneNumber String?
  address     String?
  city        String?
  country     String?

  // Admin Permissions (RBAC)
  canManageUsers     Boolean @default(true)
  canManageHosts     Boolean @default(true)
  canManageEvents    Boolean @default(true)
  canManagePayments  Boolean @default(true)
  canVerifyHosts     Boolean @default(true)
  canSuspendAccounts Boolean @default(true)

  // Activity Tracking
  lastLoginAt  DateTime?
  lastActiveAt DateTime?
  loginCount   Int?      @default(0)

  // Admin Notes & Metadata
  adminNotes String?
  status     UserStatus @default(ACTIVE)
  isDeleted  Boolean    @default(false)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Relation to User
  user User @relation(fields: [email], references: [email])
}
